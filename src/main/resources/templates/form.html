<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Cadastro de Entrega</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
<div class="container mt-5">
    <h1 class="text-center mb-4">Cadastro de Entrega</h1>
    <form id="deliveryForm" class="row g-3">
        <div class="col-md-6">
            <label for="sector" class="form-label">Departamento</label>
            <input type="text" name="sector" id="sector" class="form-control" placeholder="Digite o setor" required>
        </div>
        <div class="col-md-6">
            <label for="enterprise" class="form-label">Nome da Empresa/Site da compra</label>
            <input type="text" name="enterprise" id="enterprise" class="form-control" placeholder="Digite a empresa" required>
        </div>
        <div class="col-md-6">
            <label for="recipientName" class="form-label">Destinatário</label>
            <input type="text" name="recipientName" id="recipientName" class="form-control" placeholder="Digite o nome do destinatário" required>
        </div>
        <div class="col-md-6">
            <label for="deliveryCode" class="form-label">Código da entrega</label>
            <input type="text" name="deliveryCode" id="deliveryCode" class="form-control" placeholder="Digite o código caso necessário" required>
        </div>
        <div class="col-md-6">
            <label for="previewData" class="form-label">Data Estimada de Entrega</label>
            <input type="date" name="previewData" id="previewData" class="form-control" required>
        </div>
        <div class="col-12 text-center">
            <button type="button" class="btn btn-primary" onclick="openConfirmationModal()">Registrar Entrega</button>
        </div>
    </form>
</div>

<!-- Modal de Confirmação -->
<div class="modal fade" id="confirmationModal" tabindex="-1" aria-labelledby="confirmationModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="confirmationModalLabel">Confirmação de Cadastro</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <p>Você realmente deseja salvar as seguintes informações?</p>
                <ul>
                    <li><strong>Setor:</strong> <span id="confirmSector"></span></li>
                    <li><strong>Empresa:</strong> <span id="confirmEnterprise"></span></li>
                    <li><strong>Destinatário:</strong> <span id="confirmRecipientName"></span></li>
                    <li><strong>Código da Entrega:</strong> <span id="confirmDeliveryCode"></span></li>
                    <li><strong>Data Possível:</strong> <span id="confirmPreviewData"></span></li>
                </ul>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
                <button type="button" class="btn btn-primary" onclick="submitForm()">Confirmar</button>
            </div>
        </div>
    </div>
</div>

<!-- Modal de Erros -->
<div class="modal fade" id="errorModal" tabindex="-1" aria-labelledby="errorModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="errorModalLabel">Erros de Validação</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <ul id="errorList"></ul>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Fechar</button>
            </div>
        </div>
    </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
<script src="/js/form.js"></script> <!-- Arquivo JavaScript externo -->
</body>
</html>
